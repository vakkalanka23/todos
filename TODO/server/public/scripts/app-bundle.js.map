{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/modules/home.js","src/modules/list.js","src/resources/index.js","src/resources/data/data-services.js","src/resources/data/todos.js","src/resources/data/users.js","src/resources/elements/flatpickr.js","src/resources/value-converters/completed.js","src/resources/value-converters/date-format.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","Home","users","loginError","message","showLogin","showRegister","user","firstName","lastName","email","password","registerError","save","console","log","serverResponse","error","login","sessionStorage","setItem","JSON","stringify","response","navigate","catch","List","todos","parse","getItem","priorities","showList","showCompleted","activate","getUserTodos","_id","createTodo","todoObj","description","dateDue","Date","userId","priority","saveTodo","alert","todoId","filesToUpload","length","uploadFile","editTodo","todo","deleteTodo","completeTodo","completed","toggleShowCompleted","changeFiles","Array","push","files","removeFile","index","splice","back","logout","removeItem","globalResources","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","method","url","status","get","fetch","json","data","post","content","body","object","put","delete","uploadFiles","ToDos","TODO_SERVICE","todosArray","id","i","formData","FormData","forEach","item","append","Users","USER_SERVICE","FlatPickerCustomElement","Element","defaultBindingMode","twoWay","element","bind","defaultConfig","altInput","altFormat","wrap","_config","Object","assign","onChange","onMonthChange","onYearChange","attached","flatpickr","querySelector","selectedDates","dateStr","instance","value","valueChanged","newDate","undefined","setDate","CompletedValueConverter","toView","array","filter","DateFormatValueConverter","format"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\n\nexport class App {\n\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep); \n    config.map([\n      { \n   route: ['', 'home'],\n   moduleId: './modules/home',\n   name: 'Home' \n      },\n      {\n   route: 'list',\n   moduleId: './modules/list',\n   name: 'List', \n   auth: true \n     }\n    ]);\n  }\n}\n\n","var authConfig = {\n    baseUrl: \"http://localhost:5000/api\",\n    loginUrl: '/users/login',\n    tokenName: 'token',\n    authHeader: 'Authorization',\n    authToken: '',\n    logoutRedirect: '#/home'\n  }\n  \n  export default authConfig;\n  ","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport regeneratorRuntime from 'regenerator-runtime';\nimport config from './auth-config';\nwindow.regeneratorRuntime = regeneratorRuntime;\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig)=>{\n      baseConfig.configure(config);\n })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework'; \nimport {Router} from 'aurelia-router';\nimport { Users } from '../resources/data/users';   \nimport {AuthService} from 'aurelia-auth';  \n\n@inject(Router, Users, AuthService)\nexport class Home {\n\n  constructor(router, users, auth) {\n    this.router = router;\n    this.auth = auth;\n    this.loginError = '';     \n    this.users = users;\n    this.message = 'Home';\n    this.showLogin = true;\n  }\n\n  showRegister(){\n    this.user = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\"\n      }\n      this.registerError = \"\";\n      \n    this.showLogin = false;\n  }\n   async save() {\n   console.log (this.user);\n          let serverResponse = await this.users.save(this.user);\n          if (!serverResponse.error) {\n            this.showLogin = true;\n          } else {\n            this.registerError = \"There was a problem registering the user.\"\n          }\n    }\n        \n\n  login(){\n    return this.auth.login(this.email, this.password)\n    .then(response => {\n      sessionStorage.setItem(\"user\", JSON.stringify(response.user));\n      this.loginError = \"\";  \n      this.router.navigate('list');\n    })\n   .catch(error => {\n    console.log(error);\n    this.loginError = \"Invalid credentials.\";\n  });\n};\n\n}\n","import {inject} from 'aurelia-framework';\nimport {ToDos} from '../resources/data/todos';    \nimport {Router} from 'aurelia-router';\nimport { AuthService } from 'aurelia-auth';    \n\n@inject(Router, AuthService, ToDos)\nexport class List {\n  constructor(router, auth, todos) {\n    this.router = router;\n    this.todos = todos;\n    this.auth = auth;\n    this.user = JSON.parse(sessionStorage.getItem('user'));\n    this.priorities = ['Low', 'Medium', 'High', 'Critical'];\n    this.showList = true;\n    this.showCompleted = false;\n }\n\n  async activate(){\n    await this.todos.getUserTodos(this.user._id);\n}\n\n    createTodo(){   \n        this.todoObj = {\n            todos: \"\",\n            description: \"\",\n            dateDue: new Date(),\n            userId: this.user._id,\n            priority: this.priorities[0]\n        }\n        this.showList = false;      \n    }\n\n    \n    async saveTodo(){\n        if(this.todoObj){       \n            let response = await this.todos.save(this.todoObj);\n            if(response.error){\n                alert(\"There was an error creating the ToDo\");\n            } else {\n                 var todoId = response._id;\n                                if(this.filesToUpload && this.filesToUpload.length){\n                                    await this.todos.uploadFile(this.filesToUpload, this.user._id, todoId);\n                                    this.filesToUpload = [];\n                                }\n          \n            }\n            this.showList = true;\n        }\n    }\n\n    editTodo(todo){\n        this.todoObj = todo;\n        this.showList = false;\n         }\n     \n    deleteTodo(todo){\n       this.todos.deleteTodo(todo._id);\n      }\n         \n    completeTodo(todo){\n            todo.completed = !todo.completed;\n            this.todoObj = todo;\n            this.saveTodo();\n        }\n        \n        toggleShowCompleted(){\n                this.showCompleted = !this.showCompleted;\n            }\n      \n        changeFiles(){\n        this.filesToUpload = new Array(); \n        this.filesToUpload.push(this.files[0]);\n            }\n        removeFile(index){\n        this.filesToUpload.splice(index,1);\n            }\n                        \n    back(){\n        this.showList=true;\n    }\n\n  logout(){\n     sessionStorage.removeItem('user');\n     this.auth.logout();\n\n  }\n}\n\n","export function configure(config) {\n  config.globalResources([\n    './value-converters/date-format',\n    './value-converters/completed',\n    './elements/flatpickr'\n  ]);\n}\n","import { inject } from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\n\n@inject(HttpClient)\nexport class DataServices {\n\n    constructor(http) {\n        this.httpClient = http;\n\n        this.BASE_URL = \"http://localhost:5000/api/\";\n\n        this.httpClient.configure(config => {\n            config\n                .withBaseUrl(this.BASE_URL)\n                .withDefaults({\n                credentials: 'same-origin',\n                headers: {\n                    'Accept': 'application/json',\n                    'X-Requested-With': 'Fetch'\n                }\n                })\n                .withInterceptor({\n                request(request) {\n                    console.log(`Requesting ${request.method} ${request.url}`);\n                    return request;\n                },\n                response(response) {\n                    console.log(`Received ${response.status} ${response.url}`);\n                    return response;\n                }\n                });\n            });\n\n            \n    }\n\n    get(url) {\n        return this.httpClient.fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                return data;\n            })\n            .catch(error => {\n                return error;\n            });\n    }\n\n    post(content, url) {\n        return this.httpClient\n            .fetch(url, {\n                method: 'post',\n                body: json(content)\n            })\n            .then(response => response.json())\n            .then(object => {\n                return object;\n            })\n            .catch(error => {\n                return error;\n            });\n    }\n\n    put(content, url) {\n        return this.httpClient\n            .fetch(url, {\n                method: 'put',\n                body: json(content)\n            })\n            .then(response => response.json())\n            .then(object => {\n                return object;\n            })\n            .catch(error => {\n                return error;\n            });\n    }\n\n    delete(url) {\n        return this.httpClient\n            .fetch(url, {\n                method: 'delete'\n            })\n            .then(response => response.json())\n            .then(object => {\n                return object;\n            })\n            .catch(error => {\n                return error ;\n            });\n    }\n    uploadFiles(files, url){\n            return this.httpClient\n            .fetch(url, {\n                method: 'post',\n                body: files\n            })\n            .then(response => response.json())\n            .then(object => {\n                return object;\n            })\n            .catch(error => {\n                return error;\n            });\n        }\n        \n}\n","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n@inject(DataServices)\nexport class ToDos {\n    constructor(data) {\n                this.data = data;\n                this.TODO_SERVICE = 'todos';\n                this.todosArray= new Array ();\n         }\n\nasync getUserTodos(id){\n    let response = await this.data.get(this.TODO_SERVICE + \"/user/\" + id);\n    if(!response.error && !response.message){\n        this.todosArray = response;\n    }\n} \n\nasync save(todo){\n    if(todo){\n    if(!todo._id){\n            \n    let serverResponse = await this.data.post(todo, this.TODO_SERVICE);\n    if(!serverResponse.error){\n        this.todosArray.push(serverResponse);\n    }\n    return serverResponse;\n    }\n    else {\n                    let serverResponse = await this.data.put(todo, this.TODO_SERVICE + \"/\" + todo._id);\n                    if(!serverResponse.error){\n                        // this.updateArray(response);\n                    }\n                    return serverResponse;\n                }\n           }\n        }\n    \n        async deleteTodo(id){\n            let serverResponse = await this.data.delete(this.TODO_SERVICE + \"/\" + id);\n            if(!serverResponse.error){\n                for(let i = 0; i < this.todosArray.length; i++){\n                    if(this.todosArray[i]._id === id){\n                        this.todosArray.splice(i,1);\n                    }\n                }\n            }\n        }\n        async uploadFile(files, userId, todoId){\n                    let formData = new FormData();\n                   files.forEach((item, index) => {\n                formData.append(\"file\" + index, item);\n                    });\n                \n                let serverResponse = await this.data.uploadFiles(formData, this.TODO_SERVICE + \"/upload/\" + userId + \"/\" + todoId);\n                return serverResponse;\n            }\n            \n    }\n\n\n    ","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n@inject(DataServices)\nexport class Users {\n    \nconstructor(data) {\n        this.data = data;\n\n        this.USER_SERVICE = 'users';\n    }\n\nasync save(user){\n    if(user){\n        let serverResponse = await this.data.post(user, this.USER_SERVICE);\n         return serverResponse;\n }\n}\n\n}\n","import {inject, bindable, bindingMode} from 'aurelia-framework';\r\nimport Flatpickr from 'flatpickr';\r\n@inject(Element)\r\nexport class FlatPickerCustomElement {\r\n@bindable({defaultBindingMode: bindingMode.twoWay}) value;\r\nconstructor(element) {\r\n  this.element = element;\r\n}\r\nbind() {\r\n            const defaultConfig = {\r\n                \taltInput: true,\r\n                \taltFormat: \"F j, Y\",\r\n        wrap: true\r\n            };\r\n            this._config = Object.assign({}, defaultConfig);\r\n            this._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\r\n        }\r\n    attached() {\r\n                this.flatpickr = new Flatpickr(this.element.querySelector('.aurelia-flatpickr'), this._config);\r\n         }\r\n        onChange(selectedDates, dateStr, instance) {\r\n                this.value = selectedDates[0] \r\n        }\r\n        \r\n        valueChanged() {\r\n                if (!this.flatpickr) {\r\n                    return;\r\n                }\r\n                if (this.value === this.flatpickr.selectedDates[0]){\r\n                    return;\r\n                }\r\n               let newDate = this.value ? this.value : undefined;      \r\n               this.flatpickr.setDate(newDate);\r\n            }\r\n            }","export class CompletedValueConverter {\r\n    \r\n     toView(array, value) {\r\n       if(!value){\r\n        return array.filter(item => {\r\n          return !item.completed;\r\n        })\r\n       } else {\r\n         return array;\r\n       }\r\n     }\r\n    }\r\n  ","import moment from 'moment';\r\nexport class DateFormatValueConverter {\r\ntoView(value, format = 'MM-DD-YYYY') {\r\nif(value === undefined || value === null){\r\n\treturn;\r\n    \t\t}\r\n    \r\n    \t\treturn moment(value).format(format);\r\n\t}\r\n}"],"sourceRoot":".."}